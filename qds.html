<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caf√© Cloud Club - QDS TV</title>
    <style>
        body {
            margin: 0; padding: 0;
            font-family: 'Verdana', sans-serif;
            background-color: #000; color: #fff;
            height: 100vh; overflow: hidden;
            display: flex;
        }
        .section {
            flex: 1; display: flex; flex-direction: column;
            border-right: 4px solid #333;
        }
        .section:last-child { border: none; }
        
        .header {
            background: #111; padding: 20px;
            text-align: center; font-size: 4vh;
            font-weight: bold; text-transform: uppercase;
            border-bottom: 4px solid #333;
        }
        
        .order-list {
            padding: 20px;
            display: grid; grid-template-columns: 1fr 1fr; 
            gap: 20px; align-content: start;
            height: 100%;
        }

        .order-card {
            font-size: 8vh; font-weight: 900;
            text-align: center; padding: 20px;
            border-radius: 12px;
        }

        /* COLORS */
        .preparing .header { color: #facc15; } /* Yellow */
        .preparing .order-card { border: 3px solid #facc15; color: #facc15; }

        .ready .header { color: #4ade80; } /* Green */
        .ready .order-card { 
            background: #4ade80; color: #000;
            box-shadow: 0 0 30px rgba(74, 222, 128, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }
    </style>
</head>
<body>

    <div class="section preparing">
        <div class="header">Preparing</div>
        <div class="order-list" id="prep-list"></div>
    </div>

    <div class="section ready">
        <div class="header">Ready to Collect</div>
        <div class="order-list" id="ready-list"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // 1. PASTE YOUR FIREBASE CONFIG HERE
        const firebaseConfig = {
            // ... your config object ...
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        const prepList = document.getElementById('prep-list');
        const readyList = document.getElementById('ready-list');

        onValue(ref(db, 'qds_orders'), (snapshot) => {
            prepList.innerHTML = '';
            readyList.innerHTML = '';
            const data = snapshot.val();

            if (data) {
                Object.values(data).forEach(order => {
                    const card = `<div class="order-card">#${order.orderNumber}</div>`;
                    
                    if (order.status === 'preparing') {
                        prepList.innerHTML += card;
                    } else if (order.status === 'ready') {
                        readyList.innerHTML += card;
                    }
                });
            }
        });
    </script>
</body>
</html>
