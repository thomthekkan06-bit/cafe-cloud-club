<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caf√© Cloud Club | New Year 2026</title>

    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icon.png">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5LVP4VMKFW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-5LVP4VMKFW');
    </script>

    <meta name="description" content="Order the best Burgers, Steaks, Pastas, and Shakes from Caf√© Cloud Club. Celebrating the New Year with great taste!">
    <meta name="keywords" content="Cafe Cloud Club, Burger, Steak, Pasta, Chalakudy, Food Delivery, New Year">
    
    <meta name="theme-color" content="#FFD700">

    <meta property="og:title" content="Caf√© Cloud Club | Order Online">
    <meta property="og:description" content="Craving a Burger or Steak? Order now for pickup or delivery!">
    <meta property="og:image" content="https://cafe-cloud-club.vercel.app/og-image.jpg">
    <meta property="og:url" content="https://cafe-cloud-club.vercel.app/">
    <meta property="og:type" content="website">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

<div class="menu-bg-animation" id="confetti-container"></div>

<div class="countdown-hero">
    <div class="ny-title">COUNTDOWN TO 2026</div>
    <div class="countdown-timer" id="ny-timer">
        <div class="time-box">
            <span id="d-day">00</span>
            <span class="label">Days</span>
        </div>
        <div class="colon">:</div>
        <div class="time-box">
            <span id="d-hour">00</span>
            <span class="label">Hrs</span>
        </div>
        <div class="colon">:</div>
        <div class="time-box">
            <span id="d-min">00</span>
            <span class="label">Mins</span>
        </div>
        <div class="colon">:</div>
        <div class="time-box">
            <span id="d-sec">00</span>
            <span class="label">Secs</span>
        </div>
    </div>
</div>

<div id="preloader">
    <div class="morph-loader-container">
        <div class="loader-satellite"></div>
        <div class="loader-main-circle">
            <i class="fas fa-hamburger loader-icon icon-1"></i>
            <i class="fas fa-cocktail loader-icon icon-2"></i>
            <i class="fas fa-glass-cheers loader-icon icon-3"></i>
        </div>
    </div>
    <div class="loader-text">Caf√© Cloud Club</div>
    <div class="loader-subtext" id="dynamic-food-quote"></div>
</div>

<div id="offers-view" class="offers-view">
    <div class="offers-page-header">
        <button class="back-btn" onclick="toggleOffersPage()">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <h2 style="margin:0; color:var(--primary); font-size:1.2rem;">OFFER ZONE</h2>
        <div style="width:70px;"></div> 
    </div>

    <div class="offers-grid">
        <div class="offer-full-card">
            <div class="offer-upper">
                <div class="offer-day-badge">New Year Special</div>
                <div class="offer-title">Fam-Jam Feast üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                <div class="offer-desc">1 Penne Pasta + 1 Slider + 1 Shake = ‚Çπ399</div>
            </div>
            <div class="offer-divider"></div>
            <div class="offer-lower">
                <button class="offer-code-display" onclick="copyCode('SUNFEAST')"><i class="fas fa-copy"></i> SUNFEAST</button>
            </div>
        </div>
        </div>
</div>

<div class="success-screen" id="success-view">
    <div class="success-icon-container">
        <div class="checkmark-draw"></div>
    </div>
    <h1 class="success-title">Order Ready!</h1>
    <p class="success-subtitle">Your order details are ready. Please click the button below to send them to us via WhatsApp.</p>
    
    <div class="action-buttons-container">
        <button class="whatsapp-final-btn" id="send-wa-btn">
            <i class="fab fa-whatsapp"></i> Send Order to WhatsApp
        </button>
        <a href="tel:+917907660093" class="call-final-btn">
            <i class="fas fa-phone-alt"></i> Call to Confirm
        </a>
        <button class="funny-retry-btn" onclick="returnToMenu()">Wait... I'm still hungry! üòã</button>
    </div>
</div>

<div class="sidebar-overlay" onclick="toggleSidebar()"></div>

<div class="dashboard" id="main-dashboard">
    <div class="left-sidebar">
        <img src="og-image.jpg" alt="Cafe Cloud Club" class="brand-logo" style="width: 80%; max-width: 180px; height: auto; border-radius: 12px; margin: 0 auto 15px auto; display: block; box-shadow: 0 4px 15px rgba(0,0,0,0.3);">
        <div class="brand-subtitle">Cafe and Eatery</div>
        <div class="brand-est">Est. 2021</div>

        <div class="store-timings-box">
            <h2><i class="far fa-clock"></i> Celebration Hours</h2>
            <div class="timing-row"><span>Pickup/Dine-In:</span><span>3pm - 3am</span></div>
            <div class="timing-row"><span>Delivery:</span><span>2pm - 3am</span></div>
        </div>

        <div class="store-address-box">
            <h2><i class="fas fa-map-marker-alt"></i> Location</h2>
            <p>Opposite KFC, Muringoor,<br>Chalakudy, Kerala 680309</p>
            <p><a href="tel:+917907660093"><i class="fas fa-phone-alt"></i> +91 79076 60093</a></p>
        </div>

        <div class="filter-list">
            <div class="filter-item offers-link-btn" onclick="toggleOffersPage()"><i class="fas fa-gift"></i> Offers & T&C</div>
            <div class="reorder-btn-area">
                <button class="reorder-btn" onclick="repeatLastOrder()"><i class="fas fa-history"></i> Repeat Last Order</button>
            </div>
            <a href="my-orders.html" class="filter-item" style="text-decoration:none; color:inherit;"><i class="fas fa-receipt" style="margin-right:8px; color:#3498db;"></i> Past Orders</a>
            <div class="filter-item" onclick="setCategoryFilter('Favorites', this)"><i class="fas fa-heart" style="margin-right:8px; color:#e74c3c;"></i> My Favorites</div>
            <div class="filter-item active" onclick="setCategoryFilter('All', this)">All Items</div>
            <div class="filter-item" onclick="setCategoryFilter('Bun-Tastic Burgers', this)">Bun-Tastic Burgers</div>
            <div class="filter-item" onclick="setCategoryFilter('Butcher\'s Best', this)">Butcher's Best</div>
            <div class="filter-item" onclick="setCategoryFilter('Italian Indulgence', this)">Italian Indulgence</div>
            <div class="filter-item" onclick="setCategoryFilter('Freshly Folded', this)">Freshly Folded</div>
            <div class="filter-item" onclick="setCategoryFilter('Rice Harmony', this)">Rice Harmony</div>
            <div class="filter-item" onclick="setCategoryFilter('Toasty Treats', this)">Toasty Treats</div>
            <div class="filter-item" onclick="setCategoryFilter('Nibbles & Bits', this)">Nibbles & Bits</div>
            <div class="filter-item" onclick="setCategoryFilter('Icy Sips', this)">Icy Sips</div>
            <div class="filter-item" onclick="setCategoryFilter('Mojito Magic', this)">Mojito Magic</div>
            <div class="filter-item" onclick="setCategoryFilter('Whipped Wonders', this)">Whipped Wonders</div>
        </div>

        <div class="dev-credit sidebar-credit"><span>Page Built by</span><a href="#">Thomsons Networks</a></div>
    </div>

    <div class="main-content">
        <div class="mobile-info-card">
            <h2 class="mobile-brand-title">Caf√© Cloud Club</h2>
            <div class="mobile-info-row"><i class="fas fa-map-marker-alt"></i> Opposite KFC, Muringoor</div>
            <div class="mobile-info-row small-text"><i class="far fa-clock"></i> Pickup: 3pm-3am | Delivery: 2pm-3am</div>
            <div style="margin-top: 15px; border-top: 1px dashed #eee; padding-top: 10px;">
                <a href="track.html" style="text-decoration:none; background:#121212; color:white; padding:8px 20px; border-radius:50px; font-size:0.8rem; font-weight:bold; display:inline-block;">
                    <i class="fas fa-crosshairs" style="color:#FFD700;"></i> Track My Order
                </a>
            </div>
        </div>

        <div class="header-bar">
            <button class="mobile-menu-btn" onclick="toggleSidebar()" aria-label="Open Menu"><i class="fas fa-bars"></i></button>
            <div class="search-box">
                <i class="fas fa-search" style="color: #ccc;"></i>
                <input type="text" id="search-input" placeholder="Search menu..." onkeyup="updateSearch()">
            </div>
        </div>

        <div class="news-ticker-area" onclick="toggleOffersPage()" style="cursor: pointer;">
            <div class="ticker-label">SPECIAL</div>
            <div class="ticker-content" id="daily-ticker-text">Loading special offers...</div>
        </div>

        <div class="promo-section">
            <div class="promo-card bg-gradient-1" onclick="copyCode('CLOUD15')">
                <h3>15% OFF</h3><p>Combo: Burger + Fries + Drink</p><div class="code-badge">Use: CLOUD15</div><i class="fas fa-hamburger promo-icon"></i>
            </div>
            <div class="promo-card bg-gradient-2" onclick="copyCode('STEAK13')">
                <h3>Steak & Sip</h3><p>13% OFF Steak + Shake</p><div class="code-badge">Use: STEAK13</div><i class="fas fa-drumstick-bite promo-icon"></i>
            </div>
            <div class="promo-card bg-gradient-3" onclick="copyCode('QUICK20')">
                <h3>Quick Bite 20%</h3><p>Wrap + Side Dish</p><div class="code-badge">Use: QUICK20</div><i class="fas fa-stopwatch promo-icon"></i>
            </div>
        </div>

        <div class="advanced-filters">
            <select class="adv-select" onchange="setSort(this.value)">
                <option value="default">Sort By...</option>
                <option value="low-high">Price: Low to High</option>
                <option value="high-low">Price: High to Low</option>
            </select>
            <select class="adv-select" onchange="setType(this.value)">
                <option value="all">Diet: All</option>
                <option value="veg">Veg Only</option>
                <option value="non-veg">Non-Veg Only</option>
            </select>
            <div class="toggle-chip" onclick="toggleUnder200(this)" id="price-chip">
                <i class="fas fa-tag"></i> Under ‚Çπ200
            </div>
        </div>

        <div class="menu-grid" id="menu-root"></div>
        <button class="mobile-cart-btn" onclick="toggleCartPage()">
            <i class="fas fa-shopping-bag"></i> View Cart <span id="mobile-count">(0)</span>
        </button>
    </div>

    <div class="order-sidebar" id="cart-sidebar">
        <div class="cart-header-mobile">
            <button class="back-btn" onclick="toggleCartPage()"><i class="fas fa-arrow-left"></i> Back to Menu</button>
        </div>
        <div class="section-title">Current Order</div>
        <div class="cart-items-container" id="cart-items-list"></div>
        <div class="coupon-section">
            <input type="text" id="coupon-input" class="coupon-input" placeholder="COUPON CODE">
            <button class="coupon-btn" id="coupon-apply-btn" onclick="applyCoupon()" disabled>APPLY</button>
        </div>
        <div id="coupon-msg" class="coupon-msg"></div>
        <div class="cart-summary">
            <div class="summary-row"><span>Sub Total</span><span id="sub-total">0</span></div>
            <div class="summary-row"><span>Packing Charges</span><span id="packing-total">0</span></div>
            <div class="summary-row discount-row" id="discount-row" style="display:none;"><span>Coupon</span><span id="discount-total">-0</span></div>
            <div class="summary-row"><span>Delivery Fee</span><span>Calculated by Agent</span></div>
            <div class="summary-row summary-total"><span>Total</span><span id="grand-total">0</span></div>
            <button class="checkout-btn" id="main-checkout-btn" onclick="openCheckoutModal()" disabled>Cart Empty</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="checkout-modal">
    <div class="modal-card">
        <h3 style="margin-top: 0; margin-bottom: 15px;">Checkout</h3>
        <div class="radio-group">
            <label class="radio-label"><input type="radio" name="orderType" value="Delivery" checked onchange="toggleOrderFields()"> Delivery</label>
            <label class="radio-label"><input type="radio" name="orderType" value="Pickup" onchange="toggleOrderFields()"> Pickup / Dine-In</label>
        </div>
        <div class="input-group"><label>Full Name</label><input type="text" class="input-field" id="c-name" placeholder="John Doe"></div>
        <div class="input-group"><label>Phone Number</label><input type="tel" class="input-field" id="c-phone" placeholder="9876543210" pattern="[0-9]*"></div>
        <div class="input-group"><label>Email Address</label><input type="email" class="input-field" id="c-email" placeholder="john@example.com"></div>
        <div class="input-group">
            <label id="time-label">Preferred Delivery Time</label>
            <select class="input-field" id="c-time">
                <option value="" disabled selected>Select a time...</option>
                <option value="ASAP">ASAP (Standard)</option>
                <option value="In 45 mins">In 45 mins</option>
                <option value="Schedule Later">Schedule Later (Call)</option>
            </select>
        </div>
        <div class="input-group" id="address-group">
            <input type="text" class="input-field" id="addr-house" placeholder="House Name / Flat No" style="margin-bottom: 8px;">
            <select class="input-field" id="addr-street" onchange="updateSubLocations()" style="margin-bottom: 8px;">
                <option value="" disabled selected>Select Main Town...</option>
                <option value="Muringoor">Muringoor</option>
                <option value="Divine Nagar">Divine Nagar</option>
                <option value="Chalakudy">Chalakudy Town</option>
                <option value="Potta">Potta</option>
                <option value="Koratty">Koratty</option>
                <option value="Meloor">Meloor</option>
                <option value="Angamaly">Angamaly</option>
                <option value="Other">Other</option>
            </select>
            <div id="sub-location-wrapper" style="display:none;"><select class="input-field" id="addr-sub-street" style="margin-bottom: 8px;"></select></div>
            <input type="text" class="input-field" id="addr-landmark" placeholder="Nearby Landmark">
            <div style="margin-top: 15px;">
                <label style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;">
                    <span>Pin Exact Location</span>
                    <button type="button" onclick="locateUser()" style="background:var(--primary); color:black; border:none; padding:4px 8px; border-radius:4px; font-weight:bold;">Locate Me</button>
                </label>
                <div id="delivery-map" style="height: 150px; width: 100%; border-radius: 8px; border: 1px solid #333;"></div>
                <input type="hidden" id="geo-lat"><input type="hidden" id="geo-lng">
            </div>
        </div>
        <div class="input-group">
            <label>Instructions</label>
            <textarea class="input-field" id="c-instruction" rows="2"></textarea>
        </div>
        <div class="input-group" style="display: flex; align-items: center; gap: 10px; margin: 15px 0;">
            <input type="checkbox" id="tnc-confirm" onchange="toggleFinalButton()">
            <label for="tnc-confirm" style="font-size: 0.85rem; color: var(--grey-text);">I agree to Terms & Conditions</label>
        </div>
        <button class="checkout-btn" id="final-submit-btn" onclick="finalizeOrder()" disabled>Confirm Order</button>
        <button style="background:none; border:none; width:100%; padding:10px; margin-top:5px; cursor:pointer; color:#777;" onclick="closeCheckoutModal()">Cancel</button>
    </div>
</div>

<div class="modal-overlay" id="customization-modal" style="display: none;">
    <div class="modal-card">
        <div class="modal-header-row">
             <h3 id="modal-item-title" style="margin:0; color:var(--primary);">Item</h3>
             <button onclick="closeCustomizationModal()" style="background:none; border:none; font-size:1.5rem; cursor:pointer; color:var(--secondary);">&times;</button>
        </div>
        <p id="modal-item-base-price" style="color:var(--grey-text); border-bottom:1px solid #eee; padding-bottom:10px;"></p>
        <div id="modal-options-wrapper" class="modal-scroll-area"></div>
        <div class="modal-footer-action">
            <div style="font-weight:700; font-size:1.1rem; color:var(--secondary);">Total: <span id="modal-live-total" style="color:var(--primary);">0</span></div>
            <button class="checkout-btn" onclick="addToCartFromModal()" style="width: auto; padding: 10px 25px;">Add to Cart</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="upsell-modal" style="display: none; z-index: 9999;">
    <div class="modal-card" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 10px;">üçü</div>
        <h3 style="margin-top: 0; color: var(--primary);">Make it a Meal?</h3>
        <p style="color: var(--grey-text); margin-bottom: 20px;">Add Salted Fries for just ‚Çπ100?</p>
        <div style="display: flex; gap: 10px; justify-content: center;">
            <button class="checkout-btn" onclick="acceptUpsell()" style="background: #27ae60; width: auto; padding: 10px 20px;">Yes</button>
            <button class="checkout-btn" onclick="closeUpsell()" style="background: #999; color:white; width: auto; padding: 10px 20px;">No</button>
        </div>
    </div>
</div>

<script>
    // --- CONFETTI ANIMATION SCRIPT ---
    document.addEventListener('DOMContentLoaded', () => {
        const container = document.getElementById('confetti-container');
        const colors = ['#FFD700', '#C0C0C0', '#FFFFFF', '#E5E4E2']; // Gold, Silver, White, Platinum
        
        for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');
            const left = Math.random() * 100;
            const size = Math.random() * 8 + 4;
            const duration = Math.random() * 3 + 4;
            
            confetti.style.left = `${left}%`;
            confetti.style.width = `${size}px`;
            confetti.style.height = `${size}px`; // Square/Rectangle confetti
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = `${duration}s`;
            confetti.style.animationDelay = `-${Math.random() * 5}s`;
            
            container.appendChild(confetti);
        }

        // --- NEW YEAR COUNTDOWN SCRIPT ---
        const targetDate = new Date("January 1, 2026 00:00:00").getTime();

        const timerInterval = setInterval(function() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                clearInterval(timerInterval);
                document.getElementById("ny-timer").innerHTML = "<div style='font-size:1.5rem; color:#FFD700;'>HAPPY NEW YEAR! üéâ</div>";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("d-day").innerText = days < 10 ? "0" + days : days;
            document.getElementById("d-hour").innerText = hours < 10 ? "0" + hours : hours;
            document.getElementById("d-min").innerText = minutes < 10 ? "0" + minutes : minutes;
            document.getElementById("d-sec").innerText = seconds < 10 ? "0" + seconds : seconds;
        }, 1000);
    });
</script>

<script type="module" src="js/app.js"></script>
</body>
</html>
